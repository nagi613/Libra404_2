<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>検索画面</title>
    <link rel="stylesheet" th:href="@{/css/search.css}">
</head>

<body>

<header class="c_hd">
    <form th:action="@{/Libra404/search/filter}" method="get">
        <div class="c_hd_left">
            <a th:href="@{/Libra404/home}">
                <img th:src="@{/image/icon.png}" alt="ホームアイコン" class="home-icon">
            </a>
            <div class="c_hd_ttl">
                <input type="search" name="word" class="search" placeholder="タイトルを検索..." th:value="${word}">
                <button class="fas fa-search search-icon" type="submit"><img th:src="@{/image/Magnifying glass.png}" alt="検索"></button>
            </div>
        </div>
        <div class="c_hd_right">
            <select name="cid">
                <option value="0">カテゴリー検索</option>
                <option th:each="c : ${cList}" th:value="${c.cid}" th:text="${c.category}" th:selected="${c.cid == selectCid}"></option>
            </select>
            <button type="submit"><img th:src="@{/image/filter.png}" alt="検索"></button>
        </div>
    </form>
</header>

<main class="c_main">
    <div class="u_inner">
        <section class="count">
            <header class="count_hd">
                <h1 class="count_hd_ttl" th:text="${#lists.size(bookList)} + '件ヒット'"></h1>
            </header> 

            <!-- 書籍のリストをループ表示 -->
            <div class="count_body" th:each="book : ${bookList}">
                <a th:href="@{/Libra404/bdetail(honid=${book.honid})}" class="book_link">
                <div class="count_wrap">
                    <div class="count_cnt">
                        <img th:src="${book.photo}" th:alt="'No image'">
                        <div class="book">
                            <div class="book_ttl">
                                <h2>タイトル：</h2>
                                <h2 th:text="${book.title}"></h2>
                            </div>
                            <div class="book_about">
                                <h3>あらすじ：</h3>
                                <p class="book_about_text" th:text="${book.synopsis}"></p>
                            </div>
                        </div>

                        <div class="book_lend">
                            <h2 class="book_lend_ttl" th:if="${book.botype}">貸出可</h2>
                            <h2 class="book_lend_ttl" th:unless="${book.botype}">貸出不可</h2>
                        </div>
                    </div>
                </div>
                </a>
            </div>

        </section>
    </div>
</main>

</body>
</html>